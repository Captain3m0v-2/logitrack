<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogiTrack - Logistics Management Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <!-- Login Page -->
    <div id="loginPage" class="auth-container">
        <div class="auth-box">
            <div class="auth-header">
                <i class="fas fa-truck"></i>
                <h1>LogiTrack</h1>
                <p>Logistics Management System</p>
            </div>
            <form id="loginForm" class="auth-form">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="loginEmail" placeholder="admin@logitrack.com" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" placeholder="password123" required>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Login</button>
                <button type="button" class="btn btn-secondary btn-block" onclick="switchToSignup()">Create Account</button>
            </form>
            <div class="demo-credentials">
                <p><strong>Demo Credentials:</strong></p>
                <small>Email: admin@logitrack.com | Password: password123</small>
            </div>
        </div>
    </div>

    <!-- Signup Page -->
    <div id="signupPage" class="auth-container" style="display:none;">
        <div class="auth-box">
            <div class="auth-header">
                <i class="fas fa-truck"></i>
                <h1>LogiTrack</h1>
                <p>Create Your Account</p>
            </div>
            <form id="signupForm" class="auth-form">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" id="signupName" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="signupEmail" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="signupPassword" required>
                </div>
                <div class="form-group">
                    <label>Role</label>
                    <select id="signupRole" required>
                        <option>Admin</option>
                        <option>Manager</option>
                        <option>Driver</option>
                        <option>Warehouse Staff</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Create Account</button>
                <button type="button" class="btn btn-secondary btn-block" onclick="switchToLogin()">Back to Login</button>
            </form>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboardPage" class="dashboard-layout" style="display:none;">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <i class="fas fa-truck"></i>
                <span>LogiTrack</span>
            </div>
            
            <nav class="sidebar-nav">
                <a href="#" class="nav-link active" data-page="dashboard">
                    <i class="fas fa-chart-line"></i>
                    <span>Dashboard</span>
                </a>
                <a href="#" class="nav-link" data-page="shipments">
                    <i class="fas fa-box"></i>
                    <span>Shipments</span>
                </a>
                <a href="#" class="nav-link" data-page="orders">
                    <i class="fas fa-receipt"></i>
                    <span>Orders</span>
                </a>
                <a href="#" class="nav-link" data-page="drivers">
                    <i class="fas fa-users"></i>
                    <span>Drivers</span>
                </a>
                <a href="#" class="nav-link" data-page="vehicles">
                    <i class="fas fa-car"></i>
                    <span>Vehicles</span>
                </a>
                <a href="#" class="nav-link" data-page="analytics">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analytics</span>
                </a>
                <a href="#" class="nav-link" data-page="users">
                    <i class="fas fa-user-tie"></i>
                    <span>Users</span>
                </a>
                <a href="#" class="nav-link" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <div class="user-info">
                    <img src="https://ui-avatars.com/api/?name=Admin&background=4361ee&color=fff" alt="User">
                    <div>
                        <p class="user-name" id="currentUserName">Admin</p>
                        <p class="user-role">Administrator</p>
                    </div>
                </div>
                <button class="btn-logout" onclick="logout()" title="Logout">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Top Header -->
            <header class="top-header">
                <div class="search-wrapper">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Search shipments, orders, drivers...">
                </div>
                <div class="header-actions">
                    <button class="btn-icon" title="Notifications">
                        <i class="fas fa-bell"></i>
                        <span class="badge">5</span>
                    </button>
                    <button class="btn-icon" title="Messages">
                        <i class="fas fa-envelope"></i>
                        <span class="badge">3</span>
                    </button>
                </div>
            </header>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Dashboard Page -->
                <div class="page-section active" id="dashboardSection">
                    <div class="page-header">
                        <h1>Dashboard</h1>
                        <p>Welcome to LogiTrack Logistics Management System</p>
                    </div>

                    <!-- KPI Cards -->
                    <div class="kpi-grid">
                        <div class="kpi-card" onclick="switchPage('shipments'); shipmentFilterStatus='pending'; loadShipments()" style="cursor: pointer;">
                            <div class="kpi-icon shipment-icon">
                                <i class="fas fa-box-open"></i>
                            </div>
                            <div class="kpi-content">
                                <h3 id="kpiShipments">0</h3>
                                <p>Active Shipments</p>
                                <span class="trend positive">+12% this week</span>
                            </div>
                        </div>

                        <div class="kpi-card">
                            <div class="kpi-icon order-icon">
                                <i class="fas fa-hourglass-end"></i>
                            </div>
                            <div class="kpi-content">
                                <h3 id="kpiPendingOrders">0</h3>
                                <p>Pending Orders</p>
                                <span class="trend warning">Needs attention</span>
                            </div>
                        </div>

                        <div class="kpi-card">
                            <div class="kpi-icon revenue-icon">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div class="kpi-content">
                                <h3 id="kpiRevenue">$0</h3>
                                <p>Monthly Revenue</p>
                                <span class="trend positive">+8% from last month</span>
                            </div>
                        </div>

                        <div class="kpi-card">
                            <div class="kpi-icon delivery-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="kpi-content">
                                <h3 id="kpiDelivery">0%</h3>
                                <p>On-Time Delivery Rate</p>
                                <span class="trend positive">Target: 95%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Charts -->
                    <div class="charts-grid">
                        <div class="chart-card">
                            <h3>Shipments Status</h3>
                            <canvas id="shipmentsChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Revenue Trend</h3>
                            <canvas id="revenueChart"></canvas>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="data-card">
                        <h2>Recent Shipments</h2>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Shipment ID</th>
                                    <th>From</th>
                                    <th>To</th>
                                    <th>Status</th>
                                    <th>Driver</th>
                                    <th>Est. Delivery</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody id="recentShipmentsTable"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Shipments Page -->
                <div class="page-section" id="shipmentsSection">
                    <div class="page-header">
                        <h1>Shipments Management</h1>
                        <button class="btn btn-primary" onclick="openShipmentModal()">
                            <i class="fas fa-plus"></i> New Shipment
                        </button>
                    </div>

                    <!-- Status Filters -->
                    <div class="filter-buttons" style="margin-bottom: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
                        <button class="btn btn-secondary" onclick="filterShipmentsByStatus('all')" style="background-color: #4361ee;">
                            <i class="fas fa-list"></i> All Shipments
                        </button>
                        <button class="btn btn-secondary" onclick="filterShipmentsByStatus('pending')">
                            <i class="fas fa-clock"></i> Pending
                        </button>
                        <button class="btn btn-secondary" onclick="filterShipmentsByStatus('processing')">
                            <i class="fas fa-hourglass-half"></i> Processing
                        </button>
                        <button class="btn btn-secondary" onclick="filterShipmentsByStatus('in-transit')">
                            <i class="fas fa-truck"></i> In Transit
                        </button>
                        <button class="btn btn-secondary" onclick="filterShipmentsByStatus('delivered')">
                            <i class="fas fa-check-circle"></i> Delivered
                        </button>
                        <button class="btn btn-secondary" onclick="filterShipmentsByStatus('cancelled')">
                            <i class="fas fa-times-circle"></i> Cancelled
                        </button>
                    </div>

                    <div class="data-card">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Shipment ID</th>
                                    <th>Customer</th>
                                    <th>Origin</th>
                                    <th>Destination</th>
                                    <th>Weight (kg)</th>
                                    <th>Status</th>
                                    <th>Shipped Date</th>
                                    <th>Est. Delivery</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="shipmentsTable"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Orders Page -->
                <div class="page-section" id="ordersSection">
                    <div class="page-header">
                        <h1>Orders Management</h1>
                        <button class="btn btn-primary" onclick="openOrderModal()">
                            <i class="fas fa-plus"></i> New Order
                        </button>
                    </div>

                    <!-- Status Filters -->
                    <div class="filter-buttons" style="margin-bottom: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
                        <button class="btn btn-secondary" onclick="filterOrders('all')" style="background-color: #4361ee;">
                            <i class="fas fa-list"></i> All Orders
                        </button>
                        <button class="btn btn-secondary" onclick="filterOrders('pending')">
                            <i class="fas fa-clock"></i> Pending
                        </button>
                        <button class="btn btn-secondary" onclick="filterOrders('processing')">
                            <i class="fas fa-hourglass-half"></i> Processing
                        </button>
                        <button class="btn btn-secondary" onclick="filterOrders('completed')">
                            <i class="fas fa-check-circle"></i> Completed
                        </button>
                        <button class="btn btn-secondary" onclick="filterOrders('cancelled')">
                            <i class="fas fa-times-circle"></i> Cancelled
                        </button>
                    </div>

                    <div class="data-card">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Order ID</th>
                                    <th>Customer</th>
                                    <th>Amount</th>
                                    <th>Items</th>
                                    <th>Status</th>
                                    <th>Order Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="ordersTable"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Drivers Page -->
                <div class="page-section" id="driversSection">
                    <div class="page-header">
                        <h1>Driver Management</h1>
                        <button class="btn btn-primary" onclick="openDriverModal()">
                            <i class="fas fa-plus"></i> Add Driver
                        </button>
                    </div>

                    <div class="drivers-grid" id="driversGrid"></div>
                </div>

                <!-- Vehicles Page -->
                <div class="page-section" id="vehiclesSection">
                    <div class="page-header">
                        <h1>Vehicles Management</h1>
                        <button class="btn btn-primary" onclick="openVehicleModal()">
                            <i class="fas fa-plus"></i> Add Vehicle
                        </button>
                    </div>

                    <div class="data-card">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Vehicle ID</th>
                                    <th>License Plate</th>
                                    <th>Type</th>
                                    <th>Capacity (kg)</th>
                                    <th>Driver</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="vehiclesTable"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Analytics Page -->
                <div class="page-section" id="analyticsSection">
                    <div class="page-header">
                        <h1>Analytics & Reports</h1>
                    </div>

                    <div class="charts-grid">
                        <div class="chart-card">
                            <h3>Deliveries by Region</h3>
                            <canvas id="regionChart"></canvas>
                        </div>
                        <div class="chart-card">
                            <h3>Vehicle Utilization</h3>
                            <canvas id="utilizationChart"></canvas>
                        </div>
                        <div class="chart-card" style="grid-column: 1 / -1;">
                            <h3>Monthly Performance</h3>
                            <canvas id="performanceChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Users Page -->
                <div class="page-section" id="usersSection">
                    <div class="page-header">
                        <h1>User Management</h1>
                        <button class="btn btn-primary" onclick="openUserModal()">
                            <i class="fas fa-plus"></i> Add User
                        </button>
                    </div>

                    <div class="data-card">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Role</th>
                                    <th>Status</th>
                                    <th>Last Login</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersTable"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Settings Page -->
                <div class="page-section" id="settingsSection">
                    <div class="page-header">
                        <h1>Settings</h1>
                    </div>

                    <div class="settings-grid">
                        <div class="data-card">
                            <h2>Company Information</h2>
                            <form id="companyForm">
                                <div class="form-group">
                                    <label>Company Name</label>
                                    <input type="text" id="companyName" value="LogiTrack Inc." class="form-control">
                                </div>
                                <div class="form-group">
                                    <label>Email</label>
                                    <input type="email" id="companyEmail" value="info@logitrack.com" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label>Phone</label>
                                    <input type="tel" id="companyPhone" value="+1 (555) 123-4567" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label>Address</label>
                                    <textarea id="companyAddress" class="form-control">123 Business St, Commerce City, CC 12345</textarea>
                                </div>
                                <button type="submit" class="btn btn-primary">Save Changes</button>
                            </form>
                        </div>

                        <div class="data-card">
                            <h2>Notification Settings</h2>
                            <div class="toggle-group">
                                <label>
                                    <input type="checkbox" id="emailNotifications" checked>
                                    Email Notifications
                                </label>
                            </div>
                            <div class="toggle-group">
                                <label>
                                    <input type="checkbox" id="smsAlerts" checked>
                                    SMS Alerts
                                </label>
                            </div>
                            <div class="toggle-group">
                                <label>
                                    <input type="checkbox" id="dailyReports">
                                    Daily Reports
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->

    <!-- New Shipment Modal -->
    <div id="shipmentModal" class="modal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h2>Create New Shipment</h2>
                <button class="modal-close" onclick="closeModal('shipmentModal')">&times;</button>
            </div>
            <form id="shipmentForm" class="modal-form">
                <div class="form-row">
                    <div class="form-group">
                        <label>Customer Name</label>
                        <input type="text" id="shipmentCustomer" required>
                    </div>
                    <div class="form-group">
                        <label>Customer Email</label>
                        <input type="email" id="shipmentEmail" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Origin Location</label>
                        <input type="text" id="shipmentOrigin" placeholder="From address" required>
                    </div>
                    <div class="form-group">
                        <label>Destination Location</label>
                        <input type="text" id="shipmentDestination" placeholder="To address" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Weight (kg)</label>
                        <input type="number" id="shipmentWeight" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label>Expected Delivery</label>
                        <input type="date" id="shipmentDelivery" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="shipmentDescription" placeholder="Item description"></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('shipmentModal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Create Shipment</button>
                </div>
            </form>
        </div>
    </div>

    <!-- New Order Modal -->
    <div id="orderModal" class="modal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h2>Create New Order</h2>
                <button class="modal-close" onclick="closeModal('orderModal')">&times;</button>
            </div>
            <form id="orderForm" class="modal-form">
                <div class="form-row">
                    <div class="form-group">
                        <label>Customer Name</label>
                        <input type="text" id="orderCustomer" required>
                    </div>
                    <div class="form-group">
                        <label>Amount ($)</label>
                        <input type="number" id="orderAmount" step="0.01" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>Items</label>
                    <textarea id="orderItems" placeholder="List items in order" required></textarea>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('orderModal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Create Order</button>
                </div>
            </form>
        </div>
    </div>

    <!-- New Driver Modal -->
    <div id="driverModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Driver</h2>
                <button class="modal-close" onclick="closeModal('driverModal')">&times;</button>
            </div>
            <form id="driverForm" class="modal-form">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" id="driverName" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="driverEmail" required>
                </div>
                <div class="form-group">
                    <label>Phone</label>
                    <input type="tel" id="driverPhone" required>
                </div>
                <div class="form-group">
                    <label>License Number</label>
                    <input type="text" id="driverLicense" required>
                </div>
                <div class="form-group">
                    <label>Status</label>
                    <select id="driverStatus">
                        <option>Active</option>
                        <option>Inactive</option>
                        <option>On Leave</option>
                    </select>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('driverModal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Driver</button>
                </div>
            </form>
        </div>
    </div>

    <!-- New Vehicle Modal -->
    <div id="vehicleModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Vehicle</h2>
                <button class="modal-close" onclick="closeModal('vehicleModal')">&times;</button>
            </div>
            <form id="vehicleForm" class="modal-form">
                <div class="form-group">
                    <label>License Plate</label>
                    <input type="text" id="vehicleLicense" placeholder="e.g., ABC-1234" required>
                </div>
                <div class="form-group">
                    <label>Vehicle Type</label>
                    <select id="vehicleType" required>
                        <option>Sedan</option>
                        <option>Van</option>
                        <option>Truck</option>
                        <option>Motorcycle</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Capacity (kg)</label>
                    <input type="number" id="vehicleCapacity" required>
                </div>
                <div class="form-group">
                    <label>Assigned Driver</label>
                    <select id="vehicleDriver" required></select>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('vehicleModal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Vehicle</button>
                </div>
            </form>
        </div>
    </div>

    <!-- New User Modal -->
    <div id="userModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New User</h2>
                <button class="modal-close" onclick="closeModal('userModal')">&times;</button>
            </div>
            <form id="userForm" class="modal-form">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" id="userName" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="userEmail" required>
                </div>
                <div class="form-group">
                    <label>Role</label>
                    <select id="userRole" required>
                        <option>Admin</option>
                        <option>Manager</option>
                        <option>Driver</option>
                        <option>Warehouse Staff</option>
                    </select>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeModal('userModal')">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add User</button>
                </div>
            </form>
        </div>
    </div>

    <script src="data/database.js"></script>
    <script src="scripts/main.js"></script>
</body>
</html>
